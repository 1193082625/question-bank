(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/list/list"],{"0f45":function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("6ed0"),n("a9ff");a(n("66fd"));var i=a(n("3a20"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"2b23":function(e,t,n){"use strict";var a=n("d62c"),i=n.n(a);i.a},"3a20":function(e,t,n){"use strict";n.r(t);var a=n("dafb"),i=n("5eae");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("2b23"),n("d6b5");var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"00f937ac",null,!1,a["a"],void 0);t["default"]=u.exports},"5eae":function(e,t,n){"use strict";n.r(t);var a=n("7bcc"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"7bcc":function(e,t,n){"use strict";(function(e,a){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=i(n("2eee")),u=i(n("278c")),c=i(n("c973")),l=i(n("a78e")),s=(new l.default,e.database()),d={components:{statusBar:function(){n.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-status-bar").then(function(){return resolve(n("3fd7"))}.bind(null,n)).catch(n.oe)}},computed:{inputPlaceholder:function(e){return"en"==a.getStorageSync("CURRENT_LANG")?"Please enter the search content":"请输入搜索内容"},colList:function(){return[s.collection("question-list").where(this.where).field("title,is_choice,difficulet,content,last_modify_date,user_id").orderBy(this.orderby.key,this.orderby.val).getTemp(),s.collection("uni-id-users").field("_id,nickname").getTemp()]}},data:function(){return{_id:"",where:'"question_status" == 1',orderby:{key:"_id",val:"asc"},keyword:"",showRefresh:!1,listHight:0,sortValue:"last_modify_date-desc",sortRange:[{value:"_id-asc",text:"默认排序"},{value:"difficulty-asc",text:"难度升序"},{value:"difficulty-desc",text:"难度降序"},{value:"last_modify_date-asc",text:"时间升序"},{value:"last_modify_date-desc",text:"时间降序"}]}},watch:{keyword:function(e,t){console.log("搜索内容发生变化",e);var n=this.where.split("&&");n=n.filter((function(e){return-1===e.indexOf("category_id")})),e&&n.push("/".concat(e,"/.test(title)")),this.where=n.join("&&"),console.log("修改了搜索内容",this.where)}},onReady:function(){var e=this;return(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.listHight="auto",o=e.$refs.udb;case 2:case"end":return t.stop()}}),t)})))()},onShow:function(){var e=this;return(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.keyword=getApp().globalData.searchText,getApp().globalData.searchText="";case 2:case"end":return t.stop()}}),t)})))()},onLoad:function(e){e.category_id?(this._id=e.category_id,this.changeCategory(e.category_id)):this._id=""},methods:{goDetail:function(e,t,n){a.setStorage({key:"question-lists",data:t,success:function(){console.log("数据存储成功")}}),a.navigateTo({url:"/pages/list/detail?id=".concat(e._id,"&qIndex=").concat(n,"&title=").concat(e.title)})},fabClick:function(){console.log("要进入添加页面"),a.navigateTo({url:"./add",events:{refreshData:function(){o.loadData({clear:!0})}}})},changeCategory:function(e){var t=this.where.split("&&");t=t.filter((function(e){return-1===e.indexOf("category_id")})),t.push('"category_id" == "'.concat(e,'"')),this.where=t.join("&&")},changeSelect:function(e){var t=e.split("-"),n=(0,u.default)(t,2),a=n[0],i=n[1];this.orderby={key:a,val:i}},searchClick:function(e){a.hideKeyboard(),a.navigateTo({url:"/pages/list/search/search",animationType:"fade-in"})},retry:function(){this.refresh()},refresh:function(){o.loadData({clear:!0},(function(){a.stopPullDownRefresh(),console.log("end")})),console.log("refresh")},loadMore:function(){o.loadMore()},onqueryerror:function(e){console.error(e)},onpullingdown:function(e){console.log(e),this.showRefresh=!0,e.pullingDistance>100&&this.refresh()}},onPullDownRefresh:function(){this.refresh()},onReachBottom:function(){this.loadMore()}};t.default=d}).call(this,n("a9ff")["default"],n("543d")["default"])},d62c:function(e,t,n){},d6b5:function(e,t,n){"use strict";var a=n("de82"),i=n.n(a);i.a},dafb:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={uniDataSelect:function(){return n.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select").then(n.bind(null,"c07a"))},unicloudDb:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/@dcloudio/uni-cli-shared/components/unicloud-db")]).then(n.bind(null,"960d"))},uniList:function(){return n.e("uni_modules/uni-list/components/uni-list/uni-list").then(n.bind(null,"cf89"))},uniListItem:function(){return n.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(n.bind(null,"f637"))},uniRate:function(){return n.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(n.bind(null,"a3f3"))},uniDateformat:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat")]).then(n.bind(null,"18f8"))},uniLoadState:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-load-state/uni-load-state")]).then(n.bind(null,"9350"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$hasSSP("2e637200-3")),a=n?e.$getSSP("2e637200-3","default"):null,i=n?{data:e.$getSSP("2e637200-3","default")["data"],pagination:e.$getSSP("2e637200-3","default")["pagination"],hasMore:e.$getSSP("2e637200-3","default")["hasMore"],loading:e.$getSSP("2e637200-3","default")["loading"],error:e.$getSSP("2e637200-3","default")["error"]}:null;e._isMounted||(e.e0=function(t,n,a){var i=arguments[arguments.length-1].currentTarget.dataset,o=i.eventParams||i["event-params"];n=o.item,a=o.index;return e.goDetail(n,e.$getSSP("2e637200-3","default")["data"],a)},e.e1=function(t,n){var a=arguments[arguments.length-1].currentTarget.dataset,i=a.eventParams||a["event-params"];n=i.item;return e.__set_model(n,"difficulty",t,[])}),e.$mp.data=Object.assign({},{$root:{m0:n,m1:a,a0:i}})},o=[]},de82:function(e,t,n){}},[["0f45","common/runtime","common/vendor"]]]);